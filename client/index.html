<!doctype html>

<html>

<head>


	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta charset="utf-8" />
	<meta name="author" content="Maurycy Skier" />
	<meta name="description" content="Collecting sticks" />
	<meta name="keywords" content="html5,experiment,javascript,game,collecting,sticks,touhou,remilia,scarlet" />

	<title>Collecting sticks</title>
<!--
	<script src="/socket.io/socket.io.js"></script>
-->

	<script src="scripts/game.js"></script>
	
 	<script src="scripts/raf.js"></script>

	<script>

		// For testing purpose.
		var io = {
			connect: function(){
				return {
					on: function( event, done ) {
						// console.log( "io got:", event );
						done( {
							MAP_WIDTH: 512,
							MAP_HEIGHT: 384,
							PLAYER_WIDTH: 32,
							PLAYER_HEIGHT: 48,
							modelFile: "RemiliaScarlet.png"
						} );
					}
				};
			}
		};


		document.addEventListener( "DOMContentLoaded", function() {

			game.launch( "canvas", "status" );

		}, false );


		// Yeah, lame.
		var pressed = false;

		function key( event ) {

			var
				x = 0,
				y = 0;

			if( pressed )
				switch( event.keyCode ) {
					case 38:
						y = -1;
						break;
					case 40:
						y = 1;
						break;
					case 37:
						x = -1;
						break;
					case 39:
						x = 1;
						break;
				}

			pressed = true;

			game.players[0].move.x = x;
			game.players[0].move.y = y;

		}

		window.addEventListener( "keydown", key, false );
		window.addEventListener( "keyup", function() {
			pressed = false;
			key();
		}, false );


	</script>


	<style type="text/css">

		body {
			font-family: Tahoma, Geneva, sans-serif;
			border: 0;
			margin: 0;
			padding: 0;
			overflow: hidden;
		}

		#wrapper {
			width: 600px;
			margin: 0 auto;
		}

		#board {
			text-align: center;
		}

		canvas {
			margin: 10px 0 10px 0;
		}

		#status {
			text-align: left;
		}

		#info {
			margin: 20px 0 20px 0;
		}

		.title {
			font-size: 34px;
			margin: 20px;
		}

		.stuff {
			/*text-align: justify;*/
		}

	</style>


</head>

<body>


	<div id="wrapper">

		<div class="title">Collecting sticks game</div>

		<div id="board">
			<canvas id="canvas" width="512" height="384">
				<p>Ta przeglądarka nie obsługuje tagu CANVAS</p>
			</canvas>
		</div>

		<div id="info">
			<div class="stuff">
				Simple collecting game. I have used some sprites from touhou for a player character. Control your figure wiht arrows keys.
				<a href="http://media.photobucket.com/image/recent/Pipokary/RemiliaScarlet.png">Remilia Scarlet sprite</a>
			</div>

		</div>

		<pre id="status">Page loaded.</pre>

	</div>


</body>

</html>
