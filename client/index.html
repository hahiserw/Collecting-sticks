<!doctype html>

<html>

<head>


	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta charset="utf-8" />
	<meta name="author" content="Maurycy Skier" />
	<meta name="description" content="Collecting sticks" />
	<meta name="keywords" content="html5,experiment,javascript,game,collecting,sticks,touhou,remilia,scarlet" />

	<title>Collecting sticks</title>
<!--
	<script src="/socket.io/socket.io.js"></script>
-->

	<script src="lib/game.js"></script>
	
 	<script src="lib/raf.js"></script>

	<script>

		// For testing purpose.
		var io = {
			connect: function(){
				return {
					on: function( event, done ) {
						// console.log( "io got:", event );
						done( {
							MAP_WIDTH: 512,
							MAP_HEIGHT: 384,
							PLAYER_WIDTH: 32,
							PLAYER_HEIGTH: 32,
							modelFile: "RemiliaScarlet.png"
						} );
					}
				};
			}
		};


		document.addEventListener( "DOMContentLoaded", function() {

			game.launch();

		}, false );


		function key( event ) {

			var
				x = 0,
				y = 0;

			// Up, down, left, right. WSAD.
			// No WSAD, chat.
			switch( event.keyCode ) {
				case 38:
				// case 87:
					y = -1;
					break;
				case 40:
				// case 83:
					y = 1
					break;
				case 37:
				// case 65:
					x = -1;
					break;
				case 39:
				// case 68:
					x = 1;
					break;
			}

			return { x: x, y: y };

		}

		window.addEventListener( "keydown", function( e ) {
			game.players[0].move.x = key( e ).x;
			game.players[0].move.y = key( e ).y;
		}, false );
		window.addEventListener( "keyup", function() {
			game.players[0].move.x = 0;
			game.players[0].move.y = 0;
		}, false );


	</script>


	<style type="text/css">

		body {
			font-family: Tahoma, Geneva, sans-serif;
			border: 0;
			margin: 0;
			padding: 0;
			overflow: hidden;
		}

		#wrapper {
			width: 600px;
			margin: 0 auto;
		}

		#board {
			text-align: center;
		}

		canvas {
			margin: 10px 0 10px 0;
		}

		#status {
			text-align: left;
		}

		#info {
			margin: 20px 0 20px 0;
		}

		.title {
			font-size: 34px;
			margin: 20px;
		}

		.stuff {
			/*text-align: justify;*/
		}

	</style>


</head>

<body>


	<div id="wrapper">

		<div class="title">Collecting sticks game</div>

		<div id="board">
			<canvas id="canvas" width="512" height="384">
				<p>Ta przeglądarka nie obsługuje tagu CANVAS</p>
			</canvas>
			<div id="status">Nothing.</div>
		</div>

		<div id="info">
			<div class="stuff">
				Simple collecting game. I have used some sprites from touhou as player character. Control your figure wiht arrows or WSAD keys.
				<a href="http://media.photobucket.com/image/recent/Pipokary/RemiliaScarlet.png">Remilia Scarlet sprite</a>
			</div>
		</div>

	</div>


</body>

</html>
